質問7: 不正解
ある会社はストレージとしてEFSを利用して、複数のEC2インスタンスでファイルを共有する構成でアプリケーションの運用を開始したところです。最近になって、EFSのファイルデータが増加したことで、コストを削減するようにマネージャーから依頼されました。
どのようにしてコストを削減することができるでしょうか？
		  EFS ライフサイクル管理を有効にする。  (正解)   
		  EFS IA ストレージクラスを選択してEFSを構成する。  (不正解)   
		  EFS Standardストレージクラスを選択してEFSを構成する。    
		  EFS のスループットモードを有効にする。    
説明
Amazon EFS は標準ストレージクラスと低頻度アクセスストレージクラス (EFS IA) という２つのストレージクラスを利用しています。EFS IA は、毎日アクセスしないファイルに対して最適化されたコスト効率の料金/パフォーマンスを提供します。ファイルシステムで EFS ライフサイクル管理を有効にするだけで、選択したライフサイクルポリシーに従ってアクセスしないファイルは、自動的かつ透過的に EFS IA に移されます。EFS IA ストレージクラスの費用は、たったの 0.025 USD/GB-月* です。したがって、オプション１が正解となります。   
 
オプション２は不正解です。EFS IAを選択するのではなく、ライフサイクル管理を有効にして自動的にIAクラスへの移行するように設定することでEFS IAを利用します。 
オプション３は不正解です。EFS Standardストレージクラスは値段が高い方のクラスです。 
オプション４は不正解です。スループットモードは、ファイルシステムで実行できる全体のスループットを決定する際に利用する機能です。これを有効にするといった設定ではなく、バーストとプロビジョニングの 2 つのスループットモードから選択することになります。
質問41: 不正解
次のIAMポリシーでAWSリソースに対する権限設定を行っています。
 
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "PermissionToCreateFunction",
            "Effect": "Allow",
            "Action": [
                "lambda:CreateFunction"
　　　　 "lambda:DeleteFunction"
            ],
      "Condition": {
        "NotIpAddress": {
          "aws:SourceIp": [
            "12.148.72.0/23"
          ]
        }
    ]
}
 
この設定内容として正しい内容を選択してください。
		  このポリシーを有するIAMユーザーはLambda関数の作成と削除ができる    
		  このポリシーを有するIAMユーザーは、特定のIPアドレスからLambda関数の作成と削除ができる。  (不正解)   
		  このポリシーを有するIAMユーザーは、特定のIPアドレス以外からLambda関数の作成と削除ができる。  (正解)   
		  このポリシーを有するIAMユーザーはLambda関数に関するフル権限を有している。    
説明
このポリシーでは、最初のステートメントによりLambda関数の作成と削除に関する権限が許可されています。
 
        {
            "Sid": "PermissionToCreateFunction",
            "Effect": "Allow",
            "Action": [
                "lambda:CreateFunction"
　　　　 "lambda:DeleteFunction"
            ],
 
次のステートメントでは、IPアドレスが限定されており、このIPアドレス範囲以外が対象となるとの条件がついています。
 
      "Condition": {
        "NotIpAddress": {
          "aws:SourceIp": [
            "12.148.72.0/23"
          ]
        }
 
したがって、オプション３が正解となります。このポリシーを有するIAMユーザーは、特定のIPアドレス（12.148.72.0/23の範囲内）ではないIPアドレスであれば、Lambda関数の作成と削除ができます。
 
 
オプション１は不正解です。条件にあるIPアドレスは除外されています。
オプション２は不正解です。特定のIPアドレスからは作成と削除ができないが正しいです。
オプション４は不正解です。この設定はフル権限ではなく、そもそも作成と削除に制限されているため正しくありません。
質問43: 不正解
あなたはS3バケットに自身のファイルをアップロードして、別アカウントユーザーにアクセス用のURLを通知しました。しかしながら、そのユーザーがそのオブジェクトにアクセスしようとすると、403 Access Denied エラーが表示されます。
このエラーを解消して、オブジェクトの共有アクセス権限を付与するにはどうしたら良いでしょうか？
		  セキュリティグループを設定する。    
		  CloudFrontにおける Referer制限を実施する。    
		  バケットポリシーを設定する。  (不正解)   
		  ACLを設定する。  (正解)   
説明
Amazon S3 アクセスコントロールリスト (ACL) では、バケットとオブジェクトへのアクセスを管理できます。ACLにより、アクセスが許可される AWS アカウントまたはグループとアクセスの種類が定義されます。リソースに対するリクエストを受信すると、Amazon S3 は該当する ACL を調べて、必要なアクセス許可がリクエスタにあることを確認します。したがって、オプション４が正解となります。 
 
オプション１は不正解です。S3にセキュリティグループは設定できません。 
オプション２は不正解です。CloudFrontの連携するWAFにはReferer制限がありますが、これはIPアドレスにマッチした先にデータをコンテンツ配信する仕組みです。 
オプション３は不正解です。バケットポリシーは、バケットに対してユーザーアクセス権限を設定するバケットに関するポリシーです。オブジェクト単位でのアクセス権限のコントロールにはACLを利用します。今回はオブジェクトへのアクセス権限の設定であるためACLが正解となります。
質問46: 不正解
ある会社ではWEBアプリケーションをAWSで構築しています。データ層にDynamoDB、フロントエンド開発にEC2インスタンスを利用しています。 アプリケーションの使用中に、データレイヤーのDynamoDB領域に一時的なアクセス集中があり、書込処理能力が落ちてしまうトラブルが発生しています。
この問題を解決するコスト効果の良いソリューションを選択してください。（2つ選択してください。）
		  DynamoDBをマルチAZ構成で起動し、グローバルセカンダリーインデックスを付与する。    
		  SQSキューをトリガーとしてLambda関数によるDynamoDBの書き込み処理を並列化し、一時的なアクセス集中に対応できるように構成する。   (正解)   
		  DynamoDBの書き込みキャパシティを増強して、一時的なアクセス集中に対応できるように構成する。  (不正解)   
		  DynamoDBにAuto Scalingを適用して、一時的なアクセス集中に対応できるように構成する。  (正解)   
説明
オプション２が正解となります。SQSキューをトリガーとしてLambda関数によるDynamoDBの書き込み処理を並列化し、一時的なアクセス集中に対応できるように構成できます。SQSを使用するとクラウドアプリケーションのコンポーネントを分離して調整することが簡単で費用対効果が良くなります。SQSを利用することで、キューイングによってDynamoDBへの処理負荷を下げることができます。
オプション４が正解となります。DynamoDBにAuto Scalingを設定することで、一時的な負荷に対して処理性能をスケーリングすることで高負荷に対応することができます。   
 
 
オプション１は不正解です。DynamoDBをマルチAZ構成で起動する機能はないため不適格です。また、「グローバルセカンダリーインデックスを付与する」と読取クエリ処理が効率化できるようになりますが、今回の要件には不十分な対応となります。 
オプション３は不正解です。DynamoDBの書き込みキャパシティを増強して、アクセス集中に対応できるように増強することは可能です。しかしながら、一時的なアクセス集中に対する方策としては、コスト効率が悪い対応となります。
質問64: 不正解
A社はEC2インスタンスを利用したアプリケーションを構築しています。EC2インスタンスは一般的なワークロードに対して利用され、その際に複数のインスタンス間での通信が多数発生します。このEC2インスタンスでの処理を最適化することが求められています。
使用できる最も費用対効果の高いインスタンス構成は次のうちどれですか？
		  プレイスメントグループを設定した上で、T3インスタンス群を起動する   (不正解)   
		  T3インスタンス群を起動した上で、プレイスメントグループを構成する。     
		  M5インスタンス群を起動した上で、プレイスメントグループを構成する。     
		  プレイスメントグループを設定した上で、M5インスタンス群を起動する。   (正解)   
説明
オプション４が正解となります。 Amazon EC2 M5 インスタンスは、次世代の Amazon EC2 汎用コンピューティングインスタンスです。M5 インスタンスは、さまざまなワークロード向けに、コンピューティング、メモリ、ネットワーキングリソースをバランスよく提供しています。したがって、選択肢にあるM5インスタンスを利用してプレイスメントグループを設定することが最適です。
新しい EC2インスタンスを起動する場合、EC2は相関性のエラーを最小限に抑えるために、すべてのインスタンスが基盤となるハードウェアに分散されるようにインスタンスを配置します。プレイスメントグループを使用することで、ワークロードのニーズに対応するために独立したインスタンスのグループのプレイスメントに影響を与えることができます。この設定は先にプレイスメントグループを構成した上で、その中でインスタンスタイプとインスタンス数を決定します。   
 
オプション１と２は不正解です。T3 インスタンスは、ベースラインレベルの CPU パフォーマンスを提供する次世代のバースト可能な汎用インスタンスタイプです。これはクラスタープレイスメントグループによる設定ができないインスタンスタイプです。
オプション３は不正解です。プレイスメントグループの設定は先にプレイスメントグループを構成した上で、その中でインスタンスタイプとインスタンス数を設定することが必要です。
