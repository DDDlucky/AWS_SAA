質問5: 不正解
あなたはソリューションアーキテクトとして、多数のEC2インスタンスを利用して社内システムを展開しています。このシステムの運用要件として、EC2インスタンスリソースに対して、中央ロギングによる運用管理が求められています。
この要件を満たす方法を選択してください。（2つ選択してください。）
		  AWS CloudTrailによるログ取得を有効にする。   (不正解)   
		  AWS Config を有効化する。     
		  VPCフローログを有効化する。   (正解)   
		  EC2インスタンスにCloudWatchエージェントをインストールして、詳細ログを取得する。   (正解)   
説明
オプション３が正解となります。VPCフローログを有効化することで、EC2インスタンスとネットワークインターフェイスとの間で行き来する IP トラフィック情報をキャプチャできます。このデータをCloudWacthなどで集約することで、ログの中央管理が達成できます。
オプション４が正解となります。AWS には複数アカウントや複数リージョンにわたって、ログを収集、分析、表示するための、中央ロギングソリューションが用意されています。この仕組みを構築するためには、EC2インスタンスのログファイルおよび VPC フローログをキャプチャしていく必要があります。CloudWatchエージェントを使用して Amazon EC2 インスタンスとオンプレミスサーバーからメトリクスとログを収集することができます。これにより、ログの中央管理が達成できます。
 
オプション１は不正解です。AWS CloudTrail はAWS アカウントのガバナンス、コンプライアンス、運用監査、リスク監査を行うためのサービスです。AWS CloudTrailが取得ログはユーザーのログであり、要件に合致していません。
オプション２は不正解です。AWS ConfigはAWS リソースの設定を評価、監査、審査できる構成管理のサービスです。AWS ConfigはEC2インスタンスのログは取得できません。
質問9: 不正解
ある企業は社内業務用のWEBアプリケーションを構築しています。このアプリケーションはインターネットからアクセス可能なEC2インスタンスのWEBサーバーからEC2インスタンスにホストされたMYSQLデータベースにアクセスして、ソフトウェアの更新処理やデータの読込処理を実施する必要があります。また、その際に、データベースはインターネットから隔離させる必要があります。
次のうちで、この要件を満たすセキュリティが高い方法を選択してください。（2つ選択してください。）
		  パブリックサブネットにNATゲートウェイを設置する   (正解)   
		  プライベートサブネットにNATゲートウェイを設置する     
		  WEBサーバーとなるEC2インスタンスをパブリックサブネットに設置し、セキュリティグループによりHTTPプロトコルのターゲットに0.0.0.0/0を設定する。次にDBインスタンスのセキュリティグループにおいて3306ポートのターゲットに「WEBサーバーがホストされたEC2インスタンスのセキュルティグループ」を指定する。   (正解)   
		  WEBサーバーとなるEC2インスタンスをパブリックサブネットに設置し、セキュリティグループによりMYSQLアクセスを許可する。DBインスタンスのセキュリティグループにおいてポート80にEC2インスタンスのIPアドレスを指定する。     
		  WEBサーバーとなるEC2インスタンスをプライベートサブネットに設置し、セキュリティグループにおいて3306ポートを許可する設定を行う。次にDBインスタンスのセキュリティグループでWEBサーバーがホストされたEC2インスタンスのIPアドレスを設定する。   (不正解)   
説明
データベースをインターネットから隔離させるという要件から、MySQLサーバーをプライベートサブネットに設置することが求められています。プライベートサブネットにあるデータベースにWEBサーバーからアクセスして、ソフトウェアのアップデートを実行するためにはパブリックサブネットにNATゲートウェイを設置することが必要です。したがって、オプション１が正解となります。
このシナリオでは、一般的なインターネットからWEBサーバーに対してアクセス可能となることが要件となっており、EC2インスタンスをパブリックサブネットに設置し、セキュリティグループにおいてHTTPを0.0.0.0/0で許可する設定が求められてます。また、DBインスタンスのセキュリティグループにより、WEBサーバーとなるEC2インスタンスがMYSQLのポート3306へのアクセスを許可する設定を行います。EC2インスタンスの指定はIPアドレスまたはセキュルティグループを指定します。これにより、WEBサーバーからデータベースへのMySQLアクセスが可能となります。したがって、オプション３が正解となります。
 
オプション２は不正解です。NATゲートウェイを設置するのはプライベートサブネットではなく、パブリックサブネットです。プライベートサブネットにはNATゲートウェイへのルートを設定します。
オプション４と５は不正解です。セキュリティグループでHTTPアクセスを0.0.0.0/0で許可する設定を行い、DB側のセキュリティグループでMYSQLアクセスを許可する設定をすることが正しい内容となります。

質問11: 不正解
ある企業は2つのEC2インスタンスを利用してアプリケーションを構築しています。あなたはソリューションアーキテクトとして、EC2インスタンスに対してDNSルーティングを設定して、異常が発生しているインスタンスへのトラフィックを回避することで、アプリケーションの冗長性と信頼性を高めたいと考えています。異常が発生していない場合は、冗長化されたアプリケーション構成を平等に利用する予定です。
 
この要件を満たす方法を選択してください。
		  フェールオーバールーティングにおけるアクティブ／パッシブ構成     
		  フェールオーバールーティングにおけるアクティブ／アクティブ構成   (不正解)   
		  Route53のフェールオーバー設定におけるアクティブ／パッシブ構成の実施     
		  Route53のフェールオーバー設定におけるアクティブ／アクティブ構成   (正解)   
説明
Route 53 のヘルスチェックを使用してフェールオーバー (アクティブ/アクティブとアクティブ/パッシブ) を設定できます。Route53は同じ機能を実行するEC２インスタンスなどのリソースが複数ある場合に、リソースの正常性をチェックして、正常なリソースのみを使って DNS クエリに応答するように Amazon Route 53 を設定することができます。具体的には、「example.comサイト」が、世界各地の 3 拠点のデータセンターにそれぞれ 2 台ずつ、合計 6 台のサーバーでホストされているとします。それらのサーバーの正常性をチェックし、その時点で正常なサーバーのみを使って example.com の DNS クエリに応答するように Route 53 を設定することができます。
オプション４が正解となります。Route53のフェールオーバー設定のアクティブ／アクティブ構成によって、レイテンシールーティングなどのルーティングポリシーを利用してフェールオーバーを構成することができます。その場合は、アクティブ／アクティブ構成となり、設定された全リソースを平等に利用することができます。リソースが利用できなくなると、そのリソースを Route 53 が異常として検出し、以後、クエリへの応答に含めることを控えます。
 
オプション３は不正解です。フェールオーバー設定におけるアクティブ／パッシブ構成は、プライマリリソースを常に利用可能にしますが、すべてのプライマリリソースが使用できなくなった場合に備えて、セカンダリリソースまたはリソースグループをスタンバイ状態にします。
オプション１と２は不正解です。Route 53 を使用して DNS フェイルオーバーを設定するには、作成するレコードのタイプ (加重エイリアス、フェイルオーバー、レイテンシーなど) をノードごとに指定します。つまり、フェールオーバールーティングではないルーティングポリシーにもフェールオーバーを設定することが可能です。
質問12: 不正解
次のIAMポリシーでEC2に対する権限設定を行っています。
 
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Action": [
                "ec2:RunInstances",
                "ec2:StartInstances",
                "ec2:StopInstances",
            ],
            "Resource": "*",
            "Effect": "Deny",
            "Condition": {
                "StringEquals": {
                    "ec2:Region": "ap-northeast-1"
                }
            }
        }
    ]
}
 
この設定内容として正しい内容を選択してください。
		  このIAMポリシーが付与されれば、東京リージョンの全てのEC2インスタンスを停止することができない。   (正解)   
		  このIAMポリシーが付与されれば、東京リージョンの特定のEC2インスタンスを停止することできる。   (不正解)   
		  このIAMポリシーが付与されれば、東京リージョンの全てのEC2インスタンスを終了することができる。     
		  このIAMポリシーが付与されれば、東京リージョンの特定のEC2インスタンスを終了することができない。     
説明
このポリシーはap-northeast-１（東京リージョン）のEC2リソースへのアクセスを拒否すること設定がされています。前半のステートメントではEC2インスタンスで権限設定の対象となるアクションを指定しています。ローンチ、スタート、停止の３つのアクションが設定されています。
 
        {
            "Action": [
                "ec2:RunInstances",
                "ec2:StartInstances",
                "ec2:StopInstances",
 
次に、対象リソースは「"*"」と設定しており、つまり、全てのEC2への拒否を設定しています。したがって、上記３つのアクションが全てのEC2インスタンスに対して許可されません。
 
            "Resource": "*",
            "Effect": "Deny",
 
次に条件としてリージョンが限定されています。ここではap-northeast-１（東京リージョン）が指定されているため、東京リージョンにのみポリシーが適用されることになります。
 
            "Condition": {
                "StringEquals": {
                    "ec2:Region": "ap-northeast-1"
                }
            }
 
したがって、このIAMポリシーが付与されたユーザーやリソースは、東京リージョンの全てのEC2インスタンスを停止することができないことになります。オプション１が正解となります。
質問19: 不正解
あるアプリケーションはELBの背後にEC2インスタンスを複数設置した冗長構成をとっています。あなたはこのアプリケーションにAuto Scalingを設定して高負荷処理への対応を出来るようにしました。しかしながら、ELBのヘルスチェックが異常を示しているにも関わらず、Auto ScalingによるEC2インスタンスの起動が実行されていません。
この問題を解決するために実施するべき方法を選択してください。
		  Auto ScalingでELBのヘルスチェックを利用する   (正解)   
		  Auto Scalingのヘルスチェックを有効化する。     
		  Auto Scalingの動的スケーリングを有効化する。     
		  Auto ScalingのEC2インスタンスのヘルスチェックを有効化する。   (不正解)   
説明
オプション１が正解となります。Auto Scalingは起動したインスタンスに対して、定期的なヘルスチェックを実行します。このへルスチェックにはEC2タイプとELBタイプの2つのタイプがあります。
EC2タイプでは、EC2のステータスがrunning以外の場合、またはシステムステータスがimpairedの場合に、このインスタンスを異常と判断します。
ELBタイプでは、インスタンスのステータスチェックとELBのヘルスチェックからインスタンスの状態を判断します。
したがって、Auto ScalingがEC2タイプのヘルスチェックを利用していると、ELBのヘルスチェックが異常を示しているにも関わらず、EC2インスタンス側のステータスの問題がなければAuto Scalingが実行されません。
 
オプション２は不正解です。Auto Scalingのヘルスチェックを有効化するだけでは不十分であり、ELBタイプのヘルスチェックに変更することが求められます。
オプション３は不正解です。Auto Scalingの動的スケーリングを有効化するだけでは不十分であり、ELBタイプのヘルスチェックに変更することが求められます。
オプション４は不正解です。Auto ScalingのEC2インスタンスのヘルスチェックでは、上述のようにうまくいかない原因となってしまいます。
質問26: 不正解
B社はAWS上に社内インフラを構成し、CI/CD環境を整備したいと考えています。あなたはソリューションアーキテクトとして、コンテナーを構築するDockerの仕組みを利用することにしました。コンテナを実行する仮想マシンのクラスターをプロビジョニングやスケールなどの設定が不要な方式をとりたいと考えています。
最も自動化を達成できうるコンテナサービスの組合せを選択してください。
		  Amazon ECS＋Fargate   (不正解)   
		  Amazon ECS＋EC2インスタンス     
		  Amazon EKS＋Fargate   (正解)   
		  Amazon EKS＋EC2インスタンス     
説明
オプション３が正解となります。以前は、Amazon EKSとFargateの組合せは利用できませんでしたが、2019年12月より、AWS Fargate の上でKubernetesを利用できるようになりました。Amazon EKS と Fargateはインスタンスのプロビジョニング設定などを自動で構成してくれるため、AWS 上での Kubernetes ベースのアプリケーション開発やその管理を一定程度自動化してくれます。したがって、ECSとFargateの組合せよりも Kubernetesを利用することで、より自動化を達成することが可能です。
Fargate はコンテナを実行するために仮想マシンのクラスターをプロビジョニング、設定、スケールする必要がありません。これにより、サーバータイプの選択、クラスターをスケールするタイミングの決定、クラスターのパッキングの最適化を行う必要がなくなります。
 
オプション１は不正解です。Amazon ECSはAWS上でDockerコンテナを実行するサービスです。その中で利用するコンピューターエンジンにはEC2インスタンスとAWS Fargateのどちらかを選択します。2019年11月までは、この回答が最適な選択肢となっていました。しかしながら、AWS Fargate の上でKubernetes を利用できるようになりました。したがって、ECSとFargateよりも、EKSとFargateの組合せの方が、最も自動化を達成するという要件に合致しています。
オプション２は不正解です。Amazon ECSにEC2インスタンスを組み合わせた場合は、コンテナを実行するために仮想マシンのクラスターをプロビジョニング、設定、スケールする必要があります。
オプション４は不正解です。Amazon EKSにEC2インスタンスを組み合わせた場合は、コンテナを実行するために仮想マシンのクラスターをプロビジョニング、設定、スケールする必要があります。

質問44: 不正解
A社はAWSのサーバレスアーキテクチャを社内で新規採用して、AWS Lambda、API Gateway、およびDynamoDBを単一のスタックで構成した新しいサーバーレスアプリケーションを実装することになりました。あなたは開発者として、このサーバーレスアプリケーションをローカルで構築、テスト、およびデバッグするための環境を整備する必要があります。
この要件を満たすために開発者が利用するべきサービスを選択してください。
		  AWS DMS   (不正解)   
		  AWS SMS     
		  AWS SAM   (正解)   
		  AWS SWF     
説明
オプション３が正解となります。AWS SAMは、サーバーレスアプリケーション構築用のデプロイツールです。YAMLを使用して、サーバレスアプリケーションのLambda関数、API、データベース、イベントソースマッピングをモデリングします。AWS SAMはCloudFormationと連携してサーバレスアプリケーションを展開します。その際は、SAM が SAM 構文を AWS CloudFormation 構文に変換および拡張することで、サーバーレスアプリケーションの構築を高速化することができます。
 
オプション１は間違いです。AWS Database Migration Service を使用すると、オンプレミスにあるデータベースを短期間で安全に AWS に移行できます。今回の要件には利用できません。
オプション２は間違いです。AWS Server Migration Service は、オンプレミスの VMware vSphere、Microsoft Hyper-V/SCVMM、または Azure 仮想マシンの AWSに移行するツールです。今回の要件には利用できません。
オプション４は間違いです。Amazon SWF はステップまたは連続したステップがあるバックグラウンドジョブを構築、実行、スケールすることができるクラウド内の完全マネージド型の状態トラッカーおよびワークフローシステムです。今回の要件には利用できません。

質問51: 不正解
あなたはソリューションアーキテクトとして、AWS上でクラウドファンディングのアプリケーションを構築しています。このアプリケーションは、様々な社会貢献プロジェクトのためにお金を集めることを可能にします。 利用者に安心してもらうためには、このアプリケーションの集金機能が安全であることが大前提となります。セキュリティ要件としては、別途設定することなく、デフォルトで保存データを暗号化しているサービスを利用することになりました。
 
この要件を満たすサービスを選択してください（2つ選択してください。）
		  AWS Storage Gateway   (正解)   
		  Amazon Glacier   (正解)   
		  AWS RDS   (不正解)   
		  AWS Lambda     
		  Amazon ECS     
説明
デフォルトで保存データを暗号化しているサービスはAWS Storage GatewayとAmazon Gracierです。したがって、オプション１と２が正解となります。
AWS Storage Gatewayによって保存されたすべてのデータは、デフォルトでAmazon S3管理暗号化キー（SSE-S3）を使用してサーバー側で暗号化されます。
Amazon Glacierはデフォルトで保存データを暗号化し、SSLによる安全なデータ転送をサポートします。
 
その他のサービスは、ユーザーがデータ暗号化を設定をしない限り、データ暗号化は実施されません。

質問64: 不正解
あなたはS3バケットの静的WEBホスティングを利用してWEBサイトを作成しています。静的WEBホスティングを有効化して、index.htmlをデフォルトページとして設定して、ドメインwww.pintor.comを構成してプラウザで開いたところ、403エラーが発生して、HTMLが表示されませんでした。
このエラーを解決するために必要な対応を選択してください。
		  バケットポリシーを設定する。   (正解)   
		  バージョニングを有効化する。     
		  パブリックアクセス許可設定を有効化する。   (不正解)   
		  オブジェクトアクセスを有効化する。     
説明
S3バケットの静的WEBホスティングにおいてHTMLオブジェクトにアクセスする際にオブジェクトの読み取りアクセス許可が付与されていない場合は、ウェブサイトエンドポイントから HTTP レスポンスコード 403 (Access Denied) が返されます。
静的WEBホスティングを利用するためには、S3静的ウェブホスティング機能を有効化します。次にIndex.htmlを設定することでWEBサイトの設定が完了します。しかしながら、加えてインターネットからのアクセスが許可されるアクセス管理設定が必要となります。したがって、パブリックアクセスブロックの無効化することと、バケットポリシーの設定により、インターネットからのバケットへのs3:GetObject を設定する必要があります。したがって、オプション１が正解となります。
 
オプション２は不正解です。バージョニングは静的WEBホスティングの設定には必要ありません。
 
オプション３は不正解です。パブリックアクセス許可設定を有効化するのではなく、パブリックアクセスブロックの無効化する設定が必要です。
オプション４は不正解です。オブジェクトアクセスを有効化するといった設定はありません。ACLによりオブジェクト単位でのアクセスを付与することはできます。
